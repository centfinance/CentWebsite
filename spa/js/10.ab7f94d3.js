(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([[10],{"3da8":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"center-content-wrapper"},[_vm.account?_c("div",[_c("h1",{staticClass:"account-name-h1 setup"},[_vm._v("\n        "+_vm._s(_vm.account.name)+"\n      ")]),_c("PinPad",{ref:"PinPad",attrs:{mode:"auth"}})],1):_vm._e()])])},staticRenderFns=[],asyncToGenerator=(__webpack_require__("456d"),__webpack_require__("8a81"),__webpack_require__("d25f"),__webpack_require__("9986"),__webpack_require__("8e6e"),__webpack_require__("fa84")),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),defineProperty=__webpack_require__("c47a"),defineProperty_default=__webpack_require__.n(defineProperty),regenerator=__webpack_require__("967e"),regenerator_default=__webpack_require__.n(regenerator),aes=(__webpack_require__("7514"),__webpack_require__("7f7f"),__webpack_require__("06db"),__webpack_require__("551c"),__webpack_require__("e4f7"),__webpack_require__("6b54"),__webpack_require__("5df3"),__webpack_require__("cadf"),__webpack_require__("ac6a"),__webpack_require__("c198")),aes_default=__webpack_require__.n(aes),enc_utf8=__webpack_require__("f8d5"),enc_utf8_default=__webpack_require__.n(enc_utf8),vuex_esm=__webpack_require__("2f62"),PinPad=__webpack_require__("1877"),entities_wallet=__webpack_require__("3d84");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Loginvue_type_script_lang_js_={components:{PinPad:PinPad["a"]},data:function(){return{pin:[],loading:!0}},computed:_objectSpread(_objectSpread({},Object(vuex_esm["b"])({selectedAccount:function(state){return state.settings.selectedAccount},delay:function(state){return state.settings.delay}})),{},{accounts:function(){return this.$store.getters["entities/account/query"]().get()},account:function(){var _this=this;return this.selectedAccount?this.accounts.find((function(account){return account.name===_this.selectedAccount})):this.accounts.find((function(account){return account.default}))}}),beforeMount:function(){this.pinInputListener()},mounted:function(){this.account&&(this.$q.dark.set(this.account.darkMode),this.$store.dispatch("settings/setSelectedAccount",this.account.name))},methods:{resetPin:function(){this.pin=[]},pinInputListener:function(){var _this2=this;this.$root.$on("inputPin",(function(pin){_this2.pin.push(pin)}))},attemptUnlock:function(){var _this3=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var minPinLength,currency,connect;return regenerator_default.a.wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(minPinLength=6,!(_this3.pin.length>=minPinLength)){_context.next=36;break}return _context.prev=2,_this3.$store.dispatch("settings/setLoading",!0),_context.next=6,new Promise((function(r){return setTimeout(r,0)}));case 6:if(!0!==_this3.$CWCrypto.bcryptCompareString(_this3.pin.join(""),_this3.account.pinHash)){_context.next=27;break}return _this3.$store.dispatch("settings/setAuthenticatedAccount",_this3.account.id),currency=_this3.$store.state.settings.supportedCurrencies.find((function(item){return item.code===_this3.account.currency})),_this3.$i18n.locale=_this3.account.locale,_this3.$store.dispatch("settings/setCurrency",currency),_context.next=13,_this3.initializeWallets(_this3.account.id);case 13:return Object.getPrototypeOf(_this3.$root).backEndService=new _this3.BackEndService(_this3.$root,_this3.account.id,_this3.pin.join("")),_context.next=16,_this3.backEndService.connect();case 16:if(connect=_context.sent,!connect){_context.next=20;break}return _context.next=20,_this3.backEndService.loadPriceFeed();case 20:return _this3.$router.push({path:"/wallet"}),_this3.$store.dispatch("settings/setLayout","light"),_context.next=24,new Promise((function(r){return setTimeout(r,_this3.delay.long)}));case 24:_this3.$store.dispatch("settings/setLoading",!1),_context.next=31;break;case 27:_this3.$toast.create(10,_this3.$t("wrongPin"),_this3.delay.normal,"top"),_this3.$refs.PinPad.resetState(),_this3.resetPin(),_this3.$store.dispatch("settings/setLoading",!1);case 31:_context.next=36;break;case 33:_context.prev=33,_context.t0=_context["catch"](2),_this3.errorHandler(_context.t0);case 36:case"end":return _context.stop()}}),_callee,null,[[2,33]])})))()},decrypt:function(data,password){var bytes=aes_default.a.decrypt(data,password);return JSON.parse(bytes.toString(enc_utf8_default.a))},decryptData:function(id,pass){var _this4=this;return asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(){return regenerator_default.a.wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this4.encryptedModels.forEach((function(model){if("Account"===model.name){var result=model.query().where("id",id).get();result.forEach((function(item){model.AES.forEach((function(key){item[key]&&(item[key]=_this4.decrypt(item[key],pass))}))}))}if("Wallet"===model.name){var _result=model.query().where("account_id",id).get();_result.forEach((function(item){model.AES.forEach((function(key){item[key]&&(item[key]=_this4.decrypt(item[key],pass))}))}))}}));case 1:case"end":return _context2.stop()}}),_callee2)})))()},initializeWallets:function(accountId){var _this5=this;return new Promise(function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee7(resolve){var initializedWallets,wallets,generate,_generate,generateErc20,_generateErc,erc20Promises,promises;return regenerator_default.a.wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return _generateErc=function(){return _generateErc=asyncToGenerator_default()(regenerator_default.a.mark((function _callee6(wallet){return regenerator_default.a.wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:initializedWallets[wallet.name]=wallet.erc20Wallet;case 1:case"end":return _context6.stop()}}),_callee6)}))),_generateErc.apply(this,arguments)},generateErc20=function(_x3){return _generateErc.apply(this,arguments)},_generate=function(){return _generate=asyncToGenerator_default()(regenerator_default.a.mark((function _callee5(wallet){return regenerator_default.a.wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:initializedWallets[wallet.name]=wallet.hdWallet;case 1:case"end":return _context5.stop()}}),_callee5)}))),_generate.apply(this,arguments)},generate=function(_x2){return _generate.apply(this,arguments)},initializedWallets={},_this5.activeWallets[accountId]=initializedWallets,wallets=entities_wallet["a"].query().where("account_id",accountId).where("enabled",!0).get(),0===wallets.length&&resolve(),erc20Promises=[],promises=[],wallets.forEach((function(wallet){"ERC20"!==wallet.sdk&&promises.push(new Promise(function(){var _ref2=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(res){return regenerator_default.a.wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,generate(wallet);case 2:res();case 3:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref2.apply(this,arguments)}}()))})),_context7.next=13,Promise.all(promises);case 13:return wallets.forEach((function(wallet){"ERC20"===wallet.sdk&&erc20Promises.push(new Promise(function(){var _ref3=asyncToGenerator_default()(regenerator_default.a.mark((function _callee4(res){return regenerator_default.a.wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,generateErc20(wallet);case 2:res();case 3:case"end":return _context4.stop()}}),_callee4)})));return function(_x5){return _ref3.apply(this,arguments)}}()))})),_context7.next=16,Promise.all(erc20Promises);case 16:resolve();case 17:case"end":return _context7.stop()}}),_callee7)})));return function(_x){return _ref.apply(this,arguments)}}())}}},Auth_Loginvue_type_script_lang_js_=Loginvue_type_script_lang_js_,componentNormalizer=(__webpack_require__("4187"),__webpack_require__("2877")),component=Object(componentNormalizer["a"])(Auth_Loginvue_type_script_lang_js_,render,staticRenderFns,!1,null,"046a0e45",null);__webpack_exports__["default"]=component.exports},4187:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_046a0e45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8f1d"),_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_046a0e45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_046a0e45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_046a0e45_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a},"8f1d":function(module,exports,__webpack_require__){}}]);